(this.webpackJsonproboAssist=this.webpackJsonproboAssist||[]).push([[0],{38:function(e,t,n){e.exports=n.p+"static/media/face-waiting.a30a2d17.png"},39:function(e,t,n){e.exports=n.p+"static/media/face-talking.e88949cc.png"},42:function(e,t,n){e.exports=n(64)},47:function(e,t,n){},48:function(e,t,n){},56:function(e,t){},57:function(e,t){},58:function(e,t){},64:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(32),i=n.n(o),c=(n(47),n(14)),s=n(15),u=n(17),l=n(16),m=(n(48),n(84)),d=n(65),h=n(83),p=n(10),f=n.n(p),g=n(20),v=n(33),y=n.n(v),b=n(7),w=n(12),E=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).componentDidMount=Object(g.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadNewModel();case 2:e.setInputDevice();case 3:case"end":return t.stop()}}),t)}))),e.loadNewModel=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/roboAssist/models",e.next=3,w.c.tinyFaceDetector.loadFromUri(t);case 3:return e.next=5,w.c.faceLandmark68Net.loadFromUri(t);case 5:return e.next=7,w.c.faceRecognitionNet.loadFromUri(t);case 7:return e.next=9,w.c.faceExpressionNet.loadFromUri(t);case 9:case"end":return e.stop()}}),e)}))),e.setInputDevice=function(){navigator.mediaDevices.enumerateDevices().then(function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.filter((function(e){return"videoinput"===e.kind}));case 2:if(!(t.sent.length<2)){t.next=8;break}return t.next=6,e.setState({facingMode:"user"});case 6:t.next=10;break;case 8:return t.next=10,e.setState({facingMode:"user"});case 10:e.startVideoFeed();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.startVideoFeed=function(){e.interval=setInterval((function(){e.videoFeed()}),250)},e.componentWillUnmount=function(){clearInterval(e.interval)},e.videoFeed=Object(g.a)(f.a.mark((function t(){var n,a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById("video"),t.next=3,w.b(n,new w.a).withFaceLandmarks().withFaceExpressions();case 3:return a=t.sent,t.next=6,e.setState({detections:a});case 6:console.log(a),e.state.detections.length>0?(r=Object.keys(a[0].expressions).find((function(e){return a[0].expressions[e]>.5})),e.props.getCurrentEmotion(r),e.props.detectFace(!0)):e.props.detectFace(!1);case 8:case"end":return t.stop()}}),t)}))),e.state={facingMode:null,detections:null},e.webcam=r.a.createRef(),e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.classes,t=this.state.facingMode,n=null;return t&&(n={width:300,height:300,facingMode:t}),r.a.createElement(d.a,{elevation:0,className:e.root},r.a.createElement("div",{style:{width:"100%",height:"100%",display:"none"}},r.a.createElement(y.a,{id:"video",audio:!1,width:300,height:300,ref:this.webcam,screenshotFormat:"image/jpeg",videoConstraints:n,style:{borderRadius:"20px"}})))}}]),n}(r.a.Component),x=Object(b.a)((function(e){return{root:{flexGrow:1,margin:"0 auto",width:"90%",height:"90%",marginTop:"1rem",marginBottom:"1rem",borderRadius:"20px"}}}))(E),k=n(79),F=n(80),j=n(81),O=n(82),I=Object(k.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontSize:" 1.25rem"},subtitle:{marginTop:"1rem",marginBottom:"1rem",fontStyle:"italic",fontSize:".6rem"}}})),R=function(){var e=I();return r.a.createElement("div",null,r.a.createElement(F.a,{position:"static",color:"primary",style:{borderTopRightRadius:"20px",borderTopLeftRadius:"20px"}},r.a.createElement(j.a,null,r.a.createElement(O.a,{variant:"h5",className:e.title},"RoboAssist"))),r.a.createElement(O.a,{className:e.subtitle,align:"center",display:"block",variant:"button"},"An App That Detects Facial Emotions In Real-Time"))},C=function(e){var t=e.emotion;return r.a.createElement("div",{style:{margin:"0 auto",marginTop:"1rem",width:"80%"}},r.a.createElement(d.a,{elevation:3,style:{padding:"1rem"}},r.a.createElement(O.a,{style:{marginBottom:".5rem"},align:"center",variant:"body2"},"CURRENT EXPRESSION:"),r.a.createElement(O.a,{align:"center",variant:"subtitle2"},t?t.toUpperCase():"LOADING...")))},S=n(38),A=n.n(S),N=n(39),L=n.n(N),D=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.emotion,n=e.isFace;return r.a.createElement(h.a,{container:!0,justify:"center"},r.a.createElement(h.a,{item:!0,xs:8,style:{textAlign:"center"}},r.a.createElement(d.a,{style:{padding:"1rem",height:"50vh"}},r.a.createElement("div",{id:"roboImage"},r.a.createElement("img",{src:function(e){return e?L.a:A.a}(n)})),t?r.a.createElement("p",null,"Hi, I'm Robo Assist, ",function(e){switch(e){case"neutral":return"I would like to welcome you to the building, is there anything I can do to assist you.?";case"happy":return"I can see you are having a good day, how can I be of assistance to you?";case"sad":return"I can see you may need help, is there anything I can do to make you feel better.?";case"surprised":return"it looks like you are happy to be here, is there anything I can do to assist you.?";case"angry":return"it seems you are having difficulty, is there anything I can do to assist you.?";default:return""}}(t)):r.a.createElement("p",null,"Loading Robo Face"))))}}]),n}(r.a.Component),M=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).getCurrentEmotion=function(t){e.setState({emotion:t})},e.showLandmarks=function(t){t.preventDefault(),e.setState({showLandmarks:!e.state.showLandmarks})},e.detectFace=function(t){t?e.setState({isFace:!0}):e.setState({isFace:!1})},e.state={emotion:"",isFace:!1},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(m.a,{maxWidth:"sm",style:{marginTop:"2rem",marginBottom:"2rem"}},r.a.createElement(d.a,{elevation:3,style:{borderRadius:"20px"}},r.a.createElement(R,null),r.a.createElement("hr",{style:{width:"60%"}}),r.a.createElement(D,{isFace:this.state.isFace,emotion:this.state.emotion}),r.a.createElement(x,{detectFace:this.detectFace,getCurrentEmotion:this.getCurrentEmotion,getCurrentAge:this.getCurrentAge,getCurrentGender:this.getCurrentGender,showLandmarks:this.state.showLandmarks}),r.a.createElement("hr",{style:{width:"60%"}}),r.a.createElement(h.a,{container:!0,spacing:3,justify:"center"},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(C,{emotion:this.state.emotion})))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.8a47a162.chunk.js.map