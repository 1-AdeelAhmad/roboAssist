(this.webpackJsonproboassist=this.webpackJsonproboassist||[]).push([[0],{38:function(e,t,n){e.exports=n.p+"static/media/face-waiting.a30a2d17.png"},39:function(e,t,n){e.exports=n.p+"static/media/face-talking.e88949cc.png"},43:function(e,t,n){e.exports=n(65)},48:function(e,t,n){},49:function(e,t,n){},57:function(e,t){},58:function(e,t){},59:function(e,t){},65:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),i=n(32),o=n.n(i),s=(n(48),n(18)),c=n(19),u=n(26),l=n(24),m=(n(49),n(85)),d=n(66),h=n(84),f=n(10),p=n.n(f),g=n(16),v=n(33),b=n.n(v),y=n(7),w=n(12),E=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).componentDidMount=Object(g.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadNewModel();case 2:e.setInputDevice();case 3:case"end":return t.stop()}}),t)}))),e.loadNewModel=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/roboAssist/models",e.next=3,w.c.tinyFaceDetector.loadFromUri(t);case 3:return e.next=5,w.c.faceLandmark68Net.loadFromUri(t);case 5:return e.next=7,w.c.faceRecognitionNet.loadFromUri(t);case 7:return e.next=9,w.c.faceExpressionNet.loadFromUri(t);case 9:case"end":return e.stop()}}),e)}))),e.setInputDevice=function(){navigator.mediaDevices.enumerateDevices().then(function(){var t=Object(g.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.filter((function(e){return"videoinput"===e.kind}));case 2:if(!(t.sent.length<2)){t.next=8;break}return t.next=6,e.setState({facingMode:"user"});case 6:t.next=10;break;case 8:return t.next=10,e.setState({facingMode:"user"});case 10:e.startVideoFeed();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.startVideoFeed=function(){e.interval=setInterval((function(){e.videoFeed()}),2e3)},e.componentWillUnmount=function(){clearInterval(e.interval)},e.videoFeed=Object(g.a)(p.a.mark((function t(){var n,a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById("video"),t.next=3,w.b(n,new w.a).withFaceLandmarks().withFaceExpressions();case 3:return a=t.sent,t.next=6,e.setState({detections:a});case 6:console.log(a),e.state.detections.length>0?(r=Object.keys(a[0].expressions).find((function(e){return a[0].expressions[e]>.5})),e.props.getCurrentEmotion(r),e.props.detectFace(!0)):e.props.detectFace(!1);case 8:case"end":return t.stop()}}),t)}))),e.state={facingMode:null,detections:null},e.webcam=r.a.createRef(),e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.classes,t=this.state.facingMode,n=null;return t&&(n={width:300,height:300,facingMode:t}),r.a.createElement(d.a,{elevation:0,className:e.root},r.a.createElement("div",{style:{width:"100%",height:"100%",display:"none"}},r.a.createElement(b.a,{id:"video",audio:!1,width:300,height:300,ref:this.webcam,screenshotFormat:"image/jpeg",videoConstraints:n,style:{borderRadius:"20px"}})))}}]),n}(r.a.Component),x=Object(y.a)((function(e){return{root:{flexGrow:1,margin:"0 auto",width:"90%",height:"90%",marginTop:"1rem",marginBottom:"1rem",borderRadius:"20px"}}}))(E),k=n(80),F=n(81),I=n(82),j=n(83),O=Object(k.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontSize:" 1.25rem"},subtitle:{marginTop:"1rem",marginBottom:"1rem",fontStyle:"italic",fontSize:".6rem"}}})),R=function(){var e=O();return r.a.createElement("div",null,r.a.createElement(F.a,{position:"static",color:"primary",style:{borderTopRightRadius:"20px",borderTopLeftRadius:"20px"}},r.a.createElement(I.a,null,r.a.createElement(j.a,{variant:"h5",className:e.title},"RoboAssist"))),r.a.createElement(j.a,{className:e.subtitle,align:"center",display:"block",variant:"button"},"An App That Detects Facial Emotions In Real-Time"))},S=function(e){var t=e.emotion,n=e.isFace;return r.a.createElement("div",{style:{margin:"0 auto",marginTop:"1rem",width:"80%"}},r.a.createElement(d.a,{elevation:3,style:{padding:"1rem"}},r.a.createElement(j.a,{style:{marginBottom:".5rem"},align:"center",variant:"body2"},"CURRENT EXPRESSION:"),r.a.createElement(j.a,{align:"center",variant:"subtitle2"},n?t.toUpperCase():"LOADING...")))},C=n(40),A=n(38),N=n.n(A),D=n(39),L=n.n(D),T="Hi, I'm Robo Assist, I would like to welcome you to the building, is there anything I can do to assist you.?",B="Hi, I'm Robo Assist, I can see you are having a good day, how can I be of assistance to you?",M="Hi, I'm Robo Assist, I can see you may need help, is there anything I can do to make you feel better.?",U="Hi, I'm Robo Assist, it looks like you are happy to be here, is there anything I can do to assist you.?",G="Hi, I'm Robo Assist, it seems you are having difficulty, is there anything I can do to assist you.?",H=function(e){var t=e.emotion,n=e.isFace,i=Object(a.useState)(""),o=Object(C.a)(i,2),s=o[0],c=o[1],u=function(e){n&&t!==s&&(l(e),c(t))},l=function(e){var t=window.speechSynthesis,n=new SpeechSynthesisUtterance(e);t.speak(n)};return r.a.createElement(h.a,{container:!0,justify:"center"},r.a.createElement(h.a,{item:!0,xs:8,style:{textAlign:"center"}},r.a.createElement(d.a,{style:{padding:"1rem",height:"50vh"}},r.a.createElement("div",{id:"roboImage"},r.a.createElement("img",{alt:"roboface",src:function(e){return e?L.a:N.a}(n)})),n?function(e){switch(e){case"neutral":return u(T),T;case"happy":return u(B),B;case"sad":return u(M),M;case"surprised":return u(U),U;case"angry":return u(G),G;default:return""}}(t):r.a.createElement("p",null,"Waiting For Client..."))))},W=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).getCurrentEmotion=function(t){e.setState({emotion:t})},e.showLandmarks=function(t){t.preventDefault(),e.setState({showLandmarks:!e.state.showLandmarks})},e.detectFace=function(t){t?e.setState({isFace:!0}):e.setState({isFace:!1})},e.state={emotion:"",isFace:!1},e}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(m.a,{maxWidth:"sm",style:{marginTop:"2rem",marginBottom:"2rem"}},r.a.createElement(d.a,{elevation:3,style:{borderRadius:"20px"}},r.a.createElement(R,null),r.a.createElement("hr",{style:{width:"60%"}}),r.a.createElement(H,{isFace:this.state.isFace,emotion:this.state.emotion}),r.a.createElement(x,{detectFace:this.detectFace,getCurrentEmotion:this.getCurrentEmotion,getCurrentAge:this.getCurrentAge,getCurrentGender:this.getCurrentGender,showLandmarks:this.state.showLandmarks}),r.a.createElement("hr",{style:{width:"60%"}}),r.a.createElement(h.a,{container:!0,spacing:3,justify:"center"},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(S,{isFace:this.state.isFace,emotion:this.state.emotion})))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.a92d496d.chunk.js.map